!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequire4383;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){l[e]=n},n.parcelRequire4383=a);var i=a("l5bVx"),o=e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,l,a,o){var r,c=null!=t?t:n.nullContext||{},d=n.hooks.helperMissing,s="function",u=n.escapeExpression,m=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='library__film-item' id='queue' data-id="+u((void 0===(r=null!=(r=m(l,"id")||(null!=t?m(t,"id"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"id",hash:{},data:o,loc:{start:{line:1,column:50},end:{line:1,column:56}}}):r)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+u((void 0===(r=null!=(r=m(l,"src")||(null!=t?m(t,"src"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"src",hash:{},data:o,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):r)+"'\n    alt='"+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):r)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):r)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+u((void 0===(r=null!=(r=m(l,"genr")||(null!=t?m(t,"genr"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"genr",hash:{},data:o,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):r)+"</p>\n      <p class='library__item-year'>"+u((void 0===(r=null!=(r=m(l,"year")||(null!=t?m(t,"year"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"year",hash:{},data:o,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):r)+"<span\n          class='vote'\n        >"+u((void 0===(r=null!=(r=m(l,"vote")||(null!=t?m(t,"vote"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"vote",hash:{},data:o,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):r)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n  </button>\n</li>"},useData:!0}),r=(i=a("l5bVx"),e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,l,a,o){var r,c=null!=t?t:n.nullContext||{},d=n.hooks.helperMissing,s="function",u=n.escapeExpression,m=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='library__film-item' id='watched' data-id="+u((void 0===(r=null!=(r=m(l,"id")||(null!=t?m(t,"id"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"id",hash:{},data:o,loc:{start:{line:1,column:52},end:{line:1,column:58}}}):r)+">\n  <img\n    class='library__main-image'\n    loading='lazy'\n    src='"+u((void 0===(r=null!=(r=m(l,"src")||(null!=t?m(t,"src"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"src",hash:{},data:o,loc:{start:{line:5,column:9},end:{line:5,column:16}}}):r)+"'\n    alt='"+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:6,column:9},end:{line:6,column:17}}}):r)+"'\n  />\n  <div class='library__tex-item'>\n    <p class='library__item-name'>"+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:9,column:34},end:{line:9,column:42}}}):r)+"</p>\n    <div class='library__info'>\n      <p class='library__item-genre'>"+u((void 0===(r=null!=(r=m(l,"genr")||(null!=t?m(t,"genr"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"genr",hash:{},data:o,loc:{start:{line:11,column:37},end:{line:11,column:45}}}):r)+"</p>\n      <p class='library__item-year'>"+u((void 0===(r=null!=(r=m(l,"year")||(null!=t?m(t,"year"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"year",hash:{},data:o,loc:{start:{line:12,column:36},end:{line:12,column:44}}}):r)+"<span\n          class='vote'\n        >"+u((void 0===(r=null!=(r=m(l,"vote")||(null!=t?m(t,"vote"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"vote",hash:{},data:o,loc:{start:{line:14,column:9},end:{line:14,column:17}}}):r)+"</span></p>\n    </div>\n  </div>\n  <button\n    class='library__btn-list-delete'\n    id='delete'\n    type='button'\n    title='delete'\n  >\n  </button>\n</li>"},useData:!0})),c=a("4LWpC"),d=(i=a("l5bVx"),e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,l,a,o){var r,c=null!=t?t:n.nullContext||{},d=n.hooks.helperMissing,s="function",u=n.escapeExpression,m=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<div class='modal modal-lib' id="+u((void 0===(r=null!=(r=m(l,"id")||(null!=t?m(t,"id"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"id",hash:{},data:o,loc:{start:{line:1,column:32},end:{line:1,column:38}}}):r)+">\n    <button class='button-close' data-action=\"close-modal\">\n      <svg class='button-close__icon' width='30' height='30'>\n      </svg>\n    </button>\n  <div class='modal__poster'>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\n      <img class='modal__image' src=\""+u((void 0===(r=null!=(r=m(l,"src")||(null!=t?m(t,"src"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"src",hash:{},data:o,loc:{start:{line:8,column:37},end:{line:8,column:44}}}):r)+'"" alt="'+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:8,column:52},end:{line:8,column:60}}}):r)+"\"\" width='275' />\n\n  </div>\n\n  <div class='modal__filmBox'>\n    <h2 class='modal__name'>"+u((void 0===(r=null!=(r=m(l,"name")||(null!=t?m(t,"name"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"name",hash:{},data:o,loc:{start:{line:13,column:28},end:{line:13,column:36}}}):r)+"</h2>\n\n    <table class='modal__table'>\n      <tr>\n        <td class='modal__title'>Vote / votes</td>\n        <td><span class='modal__vote'>"+u((void 0===(r=null!=(r=m(l,"vote")||(null!=t?m(t,"vote"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"vote",hash:{},data:o,loc:{start:{line:18,column:38},end:{line:18,column:46}}}):r)+"</span>\n          /\n          <span class='vote__total'>"+u((void 0===(r=null!=(r=m(l,"vote_count")||(null!=t?m(t,"vote_count"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"vote_count",hash:{},data:o,loc:{start:{line:20,column:36},end:{line:20,column:50}}}):r)+"</span></td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Popularity</td>\n        <td>"+u((void 0===(r=null!=(r=m(l,"popularity")||(null!=t?m(t,"popularity"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"popularity",hash:{},data:o,loc:{start:{line:24,column:12},end:{line:24,column:26}}}):r)+"</td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Original Title</td>\n        <td class='modal__nameOriginal'>"+u((void 0===(r=null!=(r=m(l,"original_title")||(null!=t?m(t,"original_title"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"original_title",hash:{},data:o,loc:{start:{line:28,column:40},end:{line:28,column:58}}}):r)+"</td>\n      </tr>\n      <tr>\n        <td class='modal__title'>Genre</td>\n        <td>"+u((void 0===(r=null!=(r=m(l,"genr")||(null!=t?m(t,"genr"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"genr",hash:{},data:o,loc:{start:{line:32,column:12},end:{line:32,column:20}}}):r)+"</td>\n      </tr>\n    </table>\n\n    <h3>About</h3>\n    <div class='modal__description'>"+u((void 0===(r=null!=(r=m(l,"overview")||(null!=t?m(t,"overview"):t))?r:d)?"undefined":e(i)(r))===s?r.call(c,{name:"overview",hash:{},data:o,loc:{start:{line:37,column:36},end:{line:37,column:48}}}):r)+"</div>\n            <div class=\"modal-trailer\" id=\"player\"></div>\n    <div class='modal__buttons'>\n      <button class='modal__watchedButton watch-trailer'>Watch trailer</button>\n    </div>\n  </div>\n</div>"},useData:!0})),s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";var u,m=document.getElementsByTagName("script")[0];function v(e){e.target.playVideo()}m.parentNode.insertBefore(s,m);var p=!1;function h(e){e.data!=YT.PlayerState.PLAYING||p||(setTimeout(f,3e4),p=!0)}function f(){u.stopVideo()}var _=document.querySelector(".library__list"),g=document.querySelector(".library"),y=document.querySelector("#watched-btn"),b=document.querySelector("#queue-btn"),L=document.querySelector("body"),w=document.querySelector(".backdrop"),k=JSON.parse(localStorage.getItem("watched")),S=JSON.parse(localStorage.getItem("queue"));y.addEventListener("click",(function(){_.innerHTML="",_.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("watched"))?k.map(r).join(""):_.textContent=""),_.classList.remove("visually-hidden"),g.classList.add("visually-hidden"),y.classList.toggle("activeBtn"),b.classList.remove("activeBtn")})),b.addEventListener("click",(function(){_.innerHTML="",_.insertAdjacentHTML("beforeend",JSON.parse(localStorage.getItem("queue"))?S.map(o).join(""):_.textContent=""),_.classList.remove("visually-hidden"),g.classList.add("visually-hidden"),b.classList.toggle("activeBtn"),y.classList.remove("activeBtn")}));var E="";_.addEventListener("click",(function(e){if(e.target===_)return;var n=document.querySelectorAll(".library__film-item"),t=e.composedPath()[e.composedPath().length-8],l=t.offsetParent.dataset.id,a=[];if("delete"===t.id)n.forEach((function(e){if(e.dataset.id===l){e.remove();var n=e.id,t=JSON.parse(localStorage.getItem("".concat(n)));1===t.length&&localStorage.removeItem("".concat(n)),t.map((function(e){e.id!==Number(l)&&(a.push(e),localStorage.setItem("".concat(n),JSON.stringify(a)))}))}}));else{if(e.target===e.currentTarget)return;w.innerHTML="";var i=e.target.closest("li");E=i.dataset.id;var o="https://api.themoviedb.org/3/movie/".concat(E,"?api_key=7bfeb33324f72574136d1cd14ae769b5");(0,c.getDataApi)(o).then((function(e){return function(e){var n=e.genres.map((function(e){return e.name})).join(", ");function t(){return e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg"}var l=t(),a=e.title.toUpperCase(),i=e.vote_average.toFixed(1),o=e.vote_count,c=e.popularity,u=e.original_title,m=e.overview,v={src:l,name:a,vote:i,vote_count:o,popularity:c,original_title:u,genr:n,overview:m,id:e.id};function h(){w.style.background="url('https://image.tmdb.org/t/p/original".concat(e.backdrop_path,"') no-repeat center,linear-gradient(to right, hsla(0, 0%, 0%, 0.2), #00000033) "),w.classList.remove("is-hidden"),w.style.backgroundSize="cover",L.classList.add("no-scroll"),r.classList.remove("scroll-up--active"),w.removeEventListener("click",h),document.querySelector(".button-close").addEventListener("click",p),w.addEventListener("click",g),document.querySelector(".watch-trailer").addEventListener("click",s)}w.insertAdjacentHTML("beforeend",d(v)),h()}(e)}));var r=document.querySelector(".scroll-up");function s(){var e="https://api.themoviedb.org/3/movie/".concat(E,"/videos?api_key=7bfeb33324f72574136d1cd14ae769b5");(0,c.getDataApi)(e).then((function(e){return function(e){var n;n=e[0].key,u=new YT.Player("player",{height:"360",width:"640",videoId:"".concat(n),events:{onReady:v,onStateChange:h}}),w.addEventListener("click",m)}(e.results)}))}function m(e){e.target===e.currentTarget&&(w.classList.add("is-hidden"),r.classList.add("scroll-up--active"),u&&f())}function p(){var e=document.querySelector(".button-close");w.classList.add("is-hidden"),L.classList.remove("no-scroll"),r.classList.add("scroll-up--active"),u&&f(),e.removeEventListener("click",p),w.removeEventListener("click",g)}function g(e){if(e.target===e.currentTarget){var n=document.querySelector(".button-close");w.classList.add("is-hidden"),L.classList.remove("no-scroll"),r.classList.add("scroll-up--active"),n.removeEventListener("click",p),w.removeEventListener("click",g)}}document.addEventListener("keydown",(function e(n){if("Escape"!==n.code)return;"Escape"===n.code&&(w.classList.add("is-hidden"),L.classList.remove("no-scroll"),r.classList.add("scroll-up--active"),document.removeEventListener("keydown",e),u&&f())}))}})),a("46zAn")}();
//# sourceMappingURL=myLibrary.71d4b229.js.map
